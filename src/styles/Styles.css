@tailwind base;
@tailwind components;
@tailwind utilities;

/* =====================================================
   Global Layout Stability
===================================================== */

html,
body,
#root {
  height: 100%;
}

body {
  scrollbar-gutter: stable;
}

/* =====================================================
   Utilities Layer
   (Custom utilities must live here to use @apply)
===================================================== */

@layer utilities {
  .hide-scrollbar {
    -ms-overflow-style: none; /* IE/Edge */
    scrollbar-width: none; /* Firefox */
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
  }
}

/* =====================================================
   Component Layer
===================================================== */

@layer components {

  /* ---------- Cards / Stats ---------- */

  .card {
    @apply bg-white dark:bg-slate-900
           p-4 sm:p-6
           rounded-xl
           shadow-sm hover:shadow-md
           transition-shadow
           ring-1 ring-gray-100 dark:ring-slate-800;
  }

  .stat-grid {
    @apply grid grid-cols-1 md:grid-cols-3 gap-6;
  }

  .stat-label {
    @apply text-sm text-gray-500 dark:text-slate-400;
  }

  .stat-value {
    @apply text-3xl font-bold mt-2 tracking-tight;
  }

  .stat-primary {
    @apply text-blue-600;
  }

  .stat-success {
    @apply text-green-600;
  }

  .stat-warning {
    @apply text-yellow-500;
  }

  /* =====================================================
     Gantt Timeline (Semantic Classes)
  ===================================================== */

  .gantt-container {
    @apply w-full min-w-0
           overflow-hidden
           rounded-lg
           border
           border-slate-200
           bg-white
           dark:border-slate-700
           dark:bg-slate-900;
  }

  .gantt-header {
    @apply border-b
           border-slate-200
           bg-slate-50
           dark:border-slate-700
           dark:bg-slate-800;
  }

  .gantt-header-row {
    @apply flex min-w-0;
  }

  .gantt-name-header {
    @apply flex-shrink-0
           border-r border-slate-200
           px-4 py-3
           text-sm font-medium
           text-slate-900
           dark:border-slate-700
           dark:text-slate-100;
    width: 240px;
  }

  .gantt-scroll {
    @apply hide-scrollbar
           flex-1
           min-w-0
           overflow-x-auto;
  }

  .gantt-ticks {
    @apply flex
           text-xs
           text-slate-600
           dark:text-slate-300;
  }

  .gantt-tick {
    @apply px-3 py-3
           whitespace-nowrap
           border-l
           border-slate-200/70
           first:border-l-0
           dark:border-slate-700/60;
    flex: 1;
  }

  .gantt-body {
    @apply flex min-w-0;
  }

  .gantt-name-column {
    @apply flex-shrink-0
           border-r
           border-slate-200
           dark:border-slate-700;
    width: 240px;
  }

  .gantt-name-cell {
    @apply flex items-center
           px-4
           text-sm
           truncate
           text-slate-800
           border-slate-100
           dark:text-slate-200
           dark:border-slate-800
           hover:bg-slate-50/80
           dark:hover:bg-slate-800/60;
  }

  .gantt-name-cell.is-bordered {
    @apply border-t;
  }

  .gantt-canvas {
    @apply relative;
  }

  .gantt-row {
    @apply relative
           border-slate-100
           dark:border-slate-800;
  }

  .gantt-row.is-bordered {
    @apply border-t;
  }

  .gantt-grid {
    @apply absolute inset-0
           pointer-events-none
           flex h-full;
  }

  .gantt-grid-column {
    @apply border-l
           border-slate-200/60
           first:border-l-0
           dark:border-slate-700/40;
    flex: 1;
  }

  .gantt-bar {
    @apply absolute
           top-1/2
           -translate-y-1/2
           h-3
           rounded-md
           shadow-sm
           ring-1
           ring-black/5
           dark:ring-white/10;
  }

}